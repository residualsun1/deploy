<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 二分变量回归 | 2020级创新班R课程内容总集（修改版）</title>
  <meta name="description" content="6 二分变量回归 | 2020级创新班R课程内容总集（修改版）" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="6 二分变量回归 | 2020级创新班R课程内容总集（修改版）" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 二分变量回归 | 2020级创新班R课程内容总集（修改版）" />
  
  
  

<meta name="author" content="广州大学社会学系2020级创新班、黄国政" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="OLS.html"/>
<link rel="next" href="ML.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/table1-1.0/table1_defaults.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX","output/SVG"],
  extensions: ["tex2jax.js","MathMenu.js","MathZoom.js"],
  TeX: {
    extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
  }
});
</script>
<script type="text/javascript"
   src="../../../MathJax/MathJax.js">
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>前言</a></li>
<li class="chapter" data-level="1" data-path="dta.html"><a href="dta.html"><i class="fa fa-check"></i><b>1</b> 数据的读入与处理</a>
<ul>
<li class="chapter" data-level="1.1" data-path="dta.html"><a href="dta.html#dta-read"><i class="fa fa-check"></i><b>1.1</b> 数据读入：以.dta格式为例</a></li>
<li class="chapter" data-level="1.2" data-path="dta.html"><a href="dta.html#dta-wrap1"><i class="fa fa-check"></i><b>1.2</b> 数据处理1</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="dta.html"><a href="dta.html#dta-cc"><i class="fa fa-check"></i><b>1.2.1</b> R中的变量类型</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="dta.html"><a href="dta.html#dta-wrap2"><i class="fa fa-check"></i><b>1.3</b> 数据处理2</a></li>
<li class="chapter" data-level="1.4" data-path="dta.html"><a href="dta.html#dta-wrap3"><i class="fa fa-check"></i><b>1.4</b> 数据处理3</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="dta.html"><a href="dta.html#dta-dia"><i class="fa fa-check"></i><b>1.4.1</b> 诊断数据集</a></li>
<li class="chapter" data-level="1.4.2" data-path="dta.html"><a href="dta.html#dta-values"><i class="fa fa-check"></i><b>1.4.2</b> 处理异常值和缺失值</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="TB.html"><a href="TB.html"><i class="fa fa-check"></i><b>2</b> 表格</a>
<ul>
<li class="chapter" data-level="2.1" data-path="TB.html"><a href="TB.html#TB-Variable-labels"><i class="fa fa-check"></i><b>2.1</b> 变量标签</a></li>
<li class="chapter" data-level="2.2" data-path="TB.html"><a href="TB.html#TB-summary"><i class="fa fa-check"></i><b>2.2</b> gtsummary包</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="TB.html"><a href="TB.html#TB-summary1"><i class="fa fa-check"></i><b>2.2.1</b> 函数<code>tbl_summary()</code>的默认输出</a></li>
<li class="chapter" data-level="2.2.2" data-path="TB.html"><a href="TB.html#TB-summary2"><i class="fa fa-check"></i><b>2.2.2</b> 函数<code>tbl_summary()</code>的分组比较</a></li>
<li class="chapter" data-level="2.2.3" data-path="TB.html"><a href="TB.html#TB-summary3"><i class="fa fa-check"></i><b>2.2.3</b> 函数<code>tbl_gtsummary()</code>的自定义输出</a></li>
<li class="chapter" data-level="2.2.4" data-path="TB.html"><a href="TB.html#TB-cross"><i class="fa fa-check"></i><b>2.2.4</b> 函数<code>tbl_cross</code></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="TB.html"><a href="TB.html#TB-table1"><i class="fa fa-check"></i><b>2.3</b> table1包</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="TB.html"><a href="TB.html#TB-table1.1"><i class="fa fa-check"></i><b>2.3.1</b> 无分层</a></li>
<li class="chapter" data-level="2.3.2" data-path="TB.html"><a href="TB.html#TB-table1.2"><i class="fa fa-check"></i><b>2.3.2</b> 有分层</a></li>
<li class="chapter" data-level="2.3.3" data-path="TB.html"><a href="TB.html#TB-table1.2.1"><i class="fa fa-check"></i><b>2.3.3</b> 一个分层</a></li>
<li class="chapter" data-level="2.3.4" data-path="TB.html"><a href="TB.html#TB-table1.2.2"><i class="fa fa-check"></i><b>2.3.4</b> 两个分层</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="TB.html"><a href="TB.html#TB-kable"><i class="fa fa-check"></i><b>2.4</b> <code>KableExtra</code>包</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="TB.html"><a href="TB.html#TB-kable1"><i class="fa fa-check"></i><b>2.4.1</b> 小试牛刀</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="PI.html"><a href="PI.html"><i class="fa fa-check"></i><b>3</b> 图形</a>
<ul>
<li class="chapter" data-level="3.1" data-path="PI.html"><a href="PI.html#PI-ggplot2"><i class="fa fa-check"></i><b>3.1</b> ggplot2</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="PI.html"><a href="PI.html#PI-b"><i class="fa fa-check"></i><b>3.1.1</b> 散点图 抖散图 箱线图 直方图</a></li>
<li class="chapter" data-level="3.1.2" data-path="PI.html"><a href="PI.html#PI-f"><i class="fa fa-check"></i><b>3.1.2</b> 密度图 提琴图 山峦图 椭圆图 2D密度图</a></li>
<li class="chapter" data-level="3.1.3" data-path="PI.html"><a href="PI.html#PI-i"><i class="fa fa-check"></i><b>3.1.3</b> 图的分面{facet_grid() / facet_wrap()}</a></li>
<li class="chapter" data-level="3.1.4" data-path="PI.html"><a href="PI.html#PI-l"><i class="fa fa-check"></i><b>3.1.4</b> 图上标注文本</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="PI.html"><a href="PI.html#PI-plotly"><i class="fa fa-check"></i><b>3.2</b> plotly</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="PI.html"><a href="PI.html#PI-baisc"><i class="fa fa-check"></i><b>3.2.1</b> 基本图形</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="rp.html"><a href="rp.html"><i class="fa fa-check"></i><b>4</b> 自动报告</a>
<ul>
<li class="chapter" data-level="4.1" data-path="rp.html"><a href="rp.html#rp1"><i class="fa fa-check"></i><b>4.1</b> 使用方法</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="OLS.html"><a href="OLS.html"><i class="fa fa-check"></i><b>5</b> 线性回归</a>
<ul>
<li class="chapter" data-level="5.1" data-path="OLS.html"><a href="OLS.html#OLS-inro"><i class="fa fa-check"></i><b>5.1</b> 简单线性回归介绍</a></li>
<li class="chapter" data-level="5.2" data-path="OLS.html"><a href="OLS.html#OLS-simple"><i class="fa fa-check"></i><b>5.2</b> 一元线性回归</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="OLS.html"><a href="OLS.html#OLS-build"><i class="fa fa-check"></i><b>5.2.1</b> 模型建立</a></li>
<li class="chapter" data-level="5.2.2" data-path="OLS.html"><a href="OLS.html#OLS-explain"><i class="fa fa-check"></i><b>5.2.2</b> 模型结果解读</a></li>
<li class="chapter" data-level="5.2.3" data-path="OLS.html"><a href="OLS.html#OLS-residual"><i class="fa fa-check"></i><b>5.2.3</b> 残差分析</a></li>
<li class="chapter" data-level="5.2.4" data-path="OLS.html"><a href="OLS.html#OLS-others"><i class="fa fa-check"></i><b>5.2.4</b> 其他线性模型</a></li>
<li class="chapter" data-level="5.2.5" data-path="OLS.html"><a href="OLS.html#OLS-high"><i class="fa fa-check"></i><b>5.2.5</b> 高阶拟合</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="OLS.html"><a href="OLS.html#OLS-multiple"><i class="fa fa-check"></i><b>5.3</b> 多元线性回归</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="OLS.html"><a href="OLS.html#OLS-multisummary"><i class="fa fa-check"></i><b>5.3.1</b> 模型汇总</a></li>
<li class="chapter" data-level="5.3.2" data-path="OLS.html"><a href="OLS.html#OLS-each"><i class="fa fa-check"></i><b>5.3.2</b> 交互模型效应</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="two-logit.html"><a href="two-logit.html"><i class="fa fa-check"></i><b>6</b> 二分变量回归</a>
<ul>
<li class="chapter" data-level="6.1" data-path="two-logit.html"><a href="two-logit.html#two-logit-i"><i class="fa fa-check"></i><b>6.1</b> 二值型回归模型</a></li>
<li class="chapter" data-level="6.2" data-path="two-logit.html"><a href="two-logit.html#更多的包-two-logit-o"><i class="fa fa-check"></i><b>6.2</b> 更多的包 {two-logit-o}</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="two-logit.html"><a href="two-logit.html#zelig-two-logit-o1"><i class="fa fa-check"></i><b>6.2.1</b> Zelig {two-logit-o1}</a></li>
<li class="chapter" data-level="6.2.2" data-path="two-logit.html"><a href="two-logit.html#rms包-two-logit-o2"><i class="fa fa-check"></i><b>6.2.2</b> rms包 {two-logit-o2}</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="two-logit.html"><a href="two-logit.html#two-logit-e"><i class="fa fa-check"></i><b>6.3</b> 交互效应与可视化</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="two-logit.html"><a href="two-logit.html#two-logit-e1"><i class="fa fa-check"></i><b>6.3.1</b> 对方程进行方差分析</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ML.html"><a href="ML.html"><i class="fa fa-check"></i><b>7</b> 简单的机器学习</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ML.html"><a href="ML.html#ML-a"><i class="fa fa-check"></i><b>7.1</b> 决策树模型</a></li>
<li class="chapter" data-level="7.2" data-path="ML.html"><a href="ML.html#ML-b"><i class="fa fa-check"></i><b>7.2</b> 随机森林模型</a></li>
<li class="chapter" data-level="7.3" data-path="ML.html"><a href="ML.html#ML-c"><i class="fa fa-check"></i><b>7.3</b> 预测身价</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ET.html"><a href="ET.html"><i class="fa fa-check"></i><b>8</b> 英文文本分析</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ET.html"><a href="ET.html#ET-a"><i class="fa fa-check"></i><b>8.1</b> 整洁文字</a></li>
<li class="chapter" data-level="8.2" data-path="ET.html"><a href="ET.html#ET-b"><i class="fa fa-check"></i><b>8.2</b> 词频count</a></li>
<li class="chapter" data-level="8.3" data-path="ET.html"><a href="ET.html#ET-c"><i class="fa fa-check"></i><b>8.3</b> 词云</a></li>
<li class="chapter" data-level="8.4" data-path="ET.html"><a href="ET.html#ET-d"><i class="fa fa-check"></i><b>8.4</b> 分析单词和文档频率：tf-idf</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="ET.html"><a href="ET.html#简.奥斯汀小说中的术语频率"><i class="fa fa-check"></i><b>8.4.1</b> 简.奥斯汀小说中的术语频率</a></li>
<li class="chapter" data-level="8.4.2" data-path="ET.html"><a href="ET.html#zipfs-law"><i class="fa fa-check"></i><b>8.4.2</b> Zipf’s law</a></li>
<li class="chapter" data-level="8.4.3" data-path="ET.html"><a href="ET.html#bind_tf_idf-函数"><i class="fa fa-check"></i><b>8.4.3</b> bind_tf_idf ()函数</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="ET.html"><a href="ET.html#ET-e"><i class="fa fa-check"></i><b>8.5</b> 案例分析：挖掘NASA元数据</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="CT.html"><a href="CT.html"><i class="fa fa-check"></i><b>9</b> 中文文本分析</a>
<ul>
<li class="chapter" data-level="9.1" data-path="CT.html"><a href="CT.html#CT-a"><i class="fa fa-check"></i><b>9.1</b> 安装拓展包和导入</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="CT.html"><a href="CT.html#安装拓展包"><i class="fa fa-check"></i><b>9.1.1</b> 安装拓展包</a></li>
<li class="chapter" data-level="9.1.2" data-path="CT.html"><a href="CT.html#导入文档建议用记事本格式为uttf-8-运用scan函数"><i class="fa fa-check"></i><b>9.1.2</b> 导入文档，建议用记事本，格式为UTTF-8 运用scan函数</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="CT.html"><a href="CT.html#CT-b"><i class="fa fa-check"></i><b>9.2</b> 结巴分词处理</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="CT.html"><a href="CT.html#制作词表"><i class="fa fa-check"></i><b>9.2.1</b> 制作词表</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="CT.html"><a href="CT.html#CT-c"><i class="fa fa-check"></i><b>9.3</b> 运用SQL</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="CT.html"><a href="CT.html#安装并载入sqldf程序包-group-by根据一定的规则进行分组通过一定的规则将一个数据集划分成若干个笑的区域然后针对若干个小区域进行数据处理-count1来计数-select检索数据"><i class="fa fa-check"></i><b>9.3.1</b> 安装并载入sqldf程序包 &gt;group by“根据一定的规则进行分组”，通过一定的规则将一个数据集划分成若干个笑的区域，然后针对若干个小区域进行数据处理 &gt;count(1)来计数 &gt;select检索数据</a></li>
<li class="chapter" data-level="9.3.2" data-path="CT.html"><a href="CT.html#按顺序排列"><i class="fa fa-check"></i><b>9.3.2</b> 按顺序排列</a></li>
<li class="chapter" data-level="9.3.3" data-path="CT.html"><a href="CT.html#抽取频次为前一百的词语"><i class="fa fa-check"></i><b>9.3.3</b> 抽取频次为前一百的词语</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="CT.html"><a href="CT.html#CT-d"><i class="fa fa-check"></i><b>9.4</b> 绘制词云</a></li>
<li class="chapter" data-level="9.5" data-path="CT.html"><a href="CT.html#CT-e"><i class="fa fa-check"></i><b>9.5</b> 词频可视化</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="CT.html"><a href="CT.html#barplot绘制排名前30的高频词-第一个参数源为数据源第二个参数源为标签"><i class="fa fa-check"></i><b>9.5.1</b> barplot绘制排名前30的高频词 第一个参数源为数据源，第二个参数源为标签</a></li>
<li class="chapter" data-level="9.5.2" data-path="CT.html"><a href="CT.html#利用pie函数绘制饼图对高频词语进行可视化"><i class="fa fa-check"></i><b>9.5.2</b> 利用pie函数绘制饼图对高频词语进行可视化</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">2020级创新班R课程内容总集（修改版）</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="two-logit" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> 二分变量回归<a href="two-logit.html#two-logit" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>加载数据</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="two-logit.html#cb284-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">&quot;core.RData&quot;</span>)</span></code></pre></div>
<p>当因变量Y不是连续变量，而是分类变量时，我们就要利用广义线性模型(Generalized Linear Model)进行分析。本书前述模型中的收入变量是连续的数值型变量，现在我们将其重新编码成分类变量，用于后续的建模。</p>
<div id="two-logit-i" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> 二值型回归模型<a href="two-logit.html#two-logit-i" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>首先，我们来看Y为二值型变量的情况，对应的模型为二元Logistic回归。随后，我们进一步介绍多元（序数）logistic回归和柏松回归模型，并将结果进行可视化演示。</p>
<p>最基本的Logistic回归适用于二值响应变量（Y可以分为两类，比如0和1，参加或者不参加某活动，高收入或者低收入，是否上过大学，是否有婚外情等等）。</p>
<p>多元（序数）logit回归和柏松回归模型的数学思想类似。在任何一本涵盖广义线性模型的统计学教科书上都有详细的数学推导。一般的社会科学研究中，我们都只需要说明我们用的模型类别，而无需详细描述其数学推导的过程，重要的是解释模型参数，阐释模型背后的社会事实或者现实意义。</p>
<p>我们继续使用CGSS2021的数据，以个人2020年总收入、性别、受教育程度、政治面貌为例。</p>
<p>我们首先用如下代码生成一个二分变量，表示个人收入的分类（“低”或者“高”）。</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb285-1"><a href="two-logit.html#cb285-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtools)</span>
<span id="cb285-2"><a href="two-logit.html#cb285-2" aria-hidden="true" tabindex="-1"></a>core<span class="sc">$</span>incomegroup <span class="ot">&lt;-</span> <span class="fu">quantcut</span>(core<span class="sc">$</span>income,<span class="at">q=</span><span class="dv">2</span>,<span class="at">labels=</span><span class="fu">c</span>(<span class="st">&#39;Low&#39;</span>,<span class="st">&#39;High&#39;</span>))</span>
<span id="cb285-3"><a href="two-logit.html#cb285-3" aria-hidden="true" tabindex="-1"></a><span class="co">#devtools::install_github(&quot;strengejacke/strengejacke&quot;)</span></span>
<span id="cb285-4"><a href="two-logit.html#cb285-4" aria-hidden="true" tabindex="-1"></a><span class="co">#若以下代码无法运行，请去掉上面代码的注释并运行。</span></span>
<span id="cb285-5"><a href="two-logit.html#cb285-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sjPlot)</span></code></pre></div>
<pre><code>## #refugeeswelcome</code></pre>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb287-1"><a href="two-logit.html#cb287-1" aria-hidden="true" tabindex="-1"></a>sjPlot<span class="sc">::</span><span class="fu">plot_frq</span>(core<span class="sc">$</span>incomegroup)<span class="co">#查看结果</span></span></code></pre></div>
<p><img src="6001-chapter06_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>现在，core中生成了一个新的分类变量incomegroup，表示收入的分层（low和high）。</p>
<p>我们简单的拟合一个广义线性模型，代码如下：</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="two-logit.html#cb288-1" aria-hidden="true" tabindex="-1"></a>logfit <span class="ot">&lt;-</span> <span class="fu">glm</span>(incomegroup <span class="sc">~</span> stype <span class="sc">+</span> height <span class="sc">+</span> weight <span class="sc">+</span> gender <span class="sc">+</span> educ <span class="sc">+</span> poli, <span class="at">data=</span>core, <span class="at">family=</span><span class="fu">binomial</span>())</span>
<span id="cb288-2"><a href="two-logit.html#cb288-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb288-3"><a href="two-logit.html#cb288-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(logfit)   </span></code></pre></div>
<pre><code>## 
## Call:
## glm(formula = incomegroup ~ stype + height + weight + gender + 
##     educ + poli, family = binomial(), data = core)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.6420  -0.9160  -0.4139   0.9447   2.2764  
## 
## Coefficients:
##               Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)  -5.987743   1.059197  -5.653 1.58e-08 ***
## stype城镇     0.886477   0.087886  10.087  &lt; 2e-16 ***
## height        0.021418   0.006730   3.182 0.001460 ** 
## weight        0.006868   0.001912   3.591 0.000329 ***
## gender女     -0.351934   0.094856  -3.710 0.000207 ***
## educ初等教育  0.677977   0.170641   3.973 7.09e-05 ***
## educ中等教育  1.640412   0.160553  10.217  &lt; 2e-16 ***
## educ高等教育  2.989016   0.193069  15.482  &lt; 2e-16 ***
## poli共青团员 -1.855500   0.187545  -9.894  &lt; 2e-16 ***
## poli民主党派  0.935561   1.375088   0.680 0.496273    
## poli共产党员  0.621319   0.118401   5.248 1.54e-07 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 5543.6  on 4000  degrees of freedom
## Residual deviance: 4404.8  on 3990  degrees of freedom
## AIC: 4426.8
## 
## Number of Fisher Scoring iterations: 4</code></pre>
<p>在Logistic回归中，回归系数的表示控制其他预测变量时，预测变量的变化可引起的响应变量对数优势比的变化。对结果进行指数化可以更好的解.</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="two-logit.html#cb290-1" aria-hidden="true" tabindex="-1"></a><span class="fu">exp</span>(<span class="fu">coef</span>(logfit)) <span class="co">#指数化回归系数</span></span></code></pre></div>
<pre><code>##  (Intercept)    stype城镇       height       weight     gender女 educ初等教育 
##  0.002509321  2.426566636  1.021649091  1.006891351  0.703326434  1.969889488 
## educ中等教育 educ高等教育 poli共青团员 poli民主党派 poli共产党员 
##  5.157295724 19.866126376  0.156374744  2.548644102  1.861381474</code></pre>
<p>根据系数，可以大致进行如下解释：居住地为城镇的个人属于高工资组的概率是对照组（农村）的2.43倍；女性属于高工资组的概率是对照组（男性）的0.70倍。高等教育的群体属于高工资组的概率是对照组（未受教育）的19.87倍；其他类推。</p>
<p>指数化的结果对应关系是summary(logfit)的系数为负数，则exp(coef(logfit))的值小于1；反之，则大于1（概率加大）。</p>
</div>
<div id="更多的包-two-logit-o" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> 更多的包 {two-logit-o}<a href="two-logit.html#更多的包-two-logit-o" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="zelig-two-logit-o1" class="section level3 hasAnchor" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> Zelig {two-logit-o1}<a href="two-logit.html#zelig-two-logit-o1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="two-logit.html#cb292-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Zelig)</span></code></pre></div>
<pre><code>## Loading required package: survival</code></pre>
<pre><code>## 
## Attaching package: &#39;Zelig&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     reduce</code></pre>
<pre><code>## The following object is masked from &#39;package:ggplot2&#39;:
## 
##     stat</code></pre>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="two-logit.html#cb297-1" aria-hidden="true" tabindex="-1"></a>z.out1 <span class="ot">&lt;-</span> <span class="fu">zelig</span>(incomegroup <span class="sc">~</span> stype <span class="sc">+</span> height <span class="sc">+</span> weight <span class="sc">+</span> gender <span class="sc">+</span> educ <span class="sc">+</span> poli, <span class="at">model =</span> <span class="st">&quot;logit&quot;</span>, <span class="at">data =</span> core)</span></code></pre></div>
<pre><code>## Warning: `tbl_df()` was deprecated in dplyr 1.0.0.
## ℹ Please use `tibble::as_tibble()` instead.
## ℹ The deprecated feature was likely used in the Zelig package.
##   Please report the issue at &lt;https://github.com/IQSS/Zelig/issues&gt;.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<pre><code>## Warning: `group_by_()` was deprecated in dplyr 0.7.0.
## ℹ Please use `group_by()` instead.
## ℹ See vignette(&#39;programming&#39;) for more help
## ℹ The deprecated feature was likely used in the Zelig package.
##   Please report the issue at &lt;https://github.com/IQSS/Zelig/issues&gt;.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<pre><code>## How to cite this model in Zelig:
##   R Core Team. 2007.
##   logit: Logistic Regression for Dichotomous Dependent Variables
##   in Christine Choirat, Christopher Gandrud, James Honaker, Kosuke Imai, Gary King, and Olivia Lau,
##   &quot;Zelig: Everyone&#39;s Statistical Software,&quot; https://zeligproject.org/</code></pre>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb301-1"><a href="two-logit.html#cb301-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(z.out1, <span class="at">odds_ratios =</span> <span class="cn">TRUE</span>,<span class="at">signif.stars =</span> <span class="cn">TRUE</span>) <span class="co">#输出带OR值的结果</span></span></code></pre></div>
<pre><code>## Model: 
## 
## Call:
## stats::glm(formula = incomegroup ~ stype + height + weight + 
##     gender + educ + poli, family = binomial(&quot;logit&quot;), data = as.data.frame(.))
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.6420  -0.9160  -0.4139   0.9447   2.2764  
## 
## Coefficients:
##              Estimate (OR) Std. Error (OR) z value Pr(&gt;|z|)    
## (Intercept)       0.002509        0.002658  -5.653 1.58e-08 ***
## stype城镇         2.426567        0.213262  10.087  &lt; 2e-16 ***
## height            1.021649        0.006876   3.182 0.001460 ** 
## weight            1.006891        0.001926   3.591 0.000329 ***
## gender女          0.703326        0.066715  -3.710 0.000207 ***
## educ初等教育      1.969889        0.336144   3.973 7.09e-05 ***
## educ中等教育      5.157296        0.828021  10.217  &lt; 2e-16 ***
## educ高等教育     19.866126        3.835529  15.482  &lt; 2e-16 ***
## poli共青团员      0.156375        0.029327  -9.894  &lt; 2e-16 ***
## poli民主党派      2.548644        3.504610   0.680 0.496273    
## poli共产党员      1.861381        0.220389   5.248 1.54e-07 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 5543.6  on 4000  degrees of freedom
## Residual deviance: 4404.8  on 3990  degrees of freedom
## AIC: 4426.8
## 
## Number of Fisher Scoring iterations: 4</code></pre>
<p>Estimate (OR)列即为优势比。</p>
</div>
<div id="rms包-two-logit-o2" class="section level3 hasAnchor" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> rms包 {two-logit-o2}<a href="two-logit.html#rms包-two-logit-o2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>另一个分析包rms提供了不一样的解决方案：</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb303-1"><a href="two-logit.html#cb303-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rms)</span></code></pre></div>
<pre><code>## Loading required package: Hmisc</code></pre>
<pre><code>## 
## Attaching package: &#39;Hmisc&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:dplyr&#39;:
## 
##     src, summarize</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     format.pval, units</code></pre>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb308-1"><a href="two-logit.html#cb308-1" aria-hidden="true" tabindex="-1"></a><span class="co">#描述统计</span></span>
<span id="cb308-2"><a href="two-logit.html#cb308-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">prType=</span><span class="st">&#39;html&#39;</span>)   <span class="co"># for print, summary, anova</span></span>
<span id="cb308-3"><a href="two-logit.html#cb308-3" aria-hidden="true" tabindex="-1"></a><span class="co"># List of names of variables to analyze</span></span>
<span id="cb308-4"><a href="two-logit.html#cb308-4" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(core)</span></code></pre></div>
<pre><code>## Warning in png(file, width = 1 + k * w, height = h): &#39;width=13, height=13&#39; are
## unlikely values in pixels

## Warning in png(file, width = 1 + k * w, height = h): &#39;width=13, height=13&#39; are
## unlikely values in pixels

## Warning in png(file, width = 1 + k * w, height = h): &#39;width=13, height=13&#39; are
## unlikely values in pixels</code></pre>
<pre><code>## Warning in png(file, width = 1 + k * w, height = h): &#39;width=16, height=13&#39; are
## unlikely values in pixels

## Warning in png(file, width = 1 + k * w, height = h): &#39;width=16, height=13&#39; are
## unlikely values in pixels</code></pre>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<style>
.earrows {color:silver;font-size:11px;}

fcap {
 font-family: Verdana;
 font-size: 12px;
 color: MidnightBlue
 }

smg {
 font-family: Verdana;
 font-size: 10px;
 color: &#808080;
}

hr.thinhr { margin-top: 0.15em; margin-bottom: 0.15em; }

span.xscript {
position: relative;
}
span.xscript sub {
position: absolute;
left: 0.1em;
bottom: -1ex;
}
</style>

<title>core Descriptives</title>
<font color="MidnightBlue"><div align=center><span style="font-weight:bold">core <br><br> 13  Variables   4001  Observations</span></div></font>
<hr class="thinhr">
<span style="font-weight:bold">stype</span>: 出生户口地
<style>
 .hmisctable846751 {
 border: none;
 font-size: 85%;
 }
 .hmisctable846751 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable846751 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable846751">
 <tr><th>n</th><th>missing</th><th>distinct</th></tr>
 <tr><td>4001</td><td>0</td><td>2</td></tr>
 </table>

<pre style="font-size:85%;">
 Value         农村    城镇
 Frequency   2896    1105  
 Proportion 0.724   0.276   </pre>

<hr class="thinhr">
<span style="font-weight:bold">gender</span>: 性别【访问员记录】
<style>
 .hmisctable210494 {
 border: none;
 font-size: 85%;
 }
 .hmisctable210494 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable210494 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable210494">
 <tr><th>n</th><th>missing</th><th>distinct</th></tr>
 <tr><td>4001</td><td>0</td><td>2</td></tr>
 </table>

<pre style="font-size:85%;">
 Value          男     女
 Frequency   1896   2105 
 Proportion 0.474  0.526  </pre>

<hr class="thinhr">
<span style="font-weight:bold">age</span>: 年龄 <span style='font-family:Verdana;font-size:75%;'>岁</span> <span style="font-size: 80%;">Format:%10.0g</span><div style='float: right; text-align: right;'><img src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAJcAAAANCAMAAACTvAxuAAAACVBMVEUAAADMzMz////1iUV5AAAApElEQVQ4jc2Tiw6AIAhFL/7/R5fkK0JTwi2aQ2DiGXlBXga4tYrdgtmAUfjRXLh4B1cwey+wMZPGxUX7EF/ODYZw57qCmm+qO7ke/Zubq9O4jL93JKJTYeCVtjmD4kRMhLvlqpseyyDERITrppXq4rwkD9Ly51pCq682pKcxdbOBC0tDQ+cJb+LK4V+52A25SJdWR3FzVehVkY1Xs8L5o6rauDsA/98Igdq8vTMAAAAASUVORK5CYII=" alt="image" /></div>
<style>
 .hmisctable170317 {
 border: none;
 font-size: 85%;
 }
 .hmisctable170317 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable170317 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable170317">
 <tr><th>n</th><th>missing</th><th>distinct</th><th>Info</th><th>Mean</th><th>Gmd</th><th>.05</th><th>.10</th><th>.25</th><th>.50</th><th>.75</th><th>.90</th><th>.95</th></tr>
 <tr><td>4001</td><td>0</td><td>77</td><td>1</td><td>52.38</td><td>19.09</td><td>24</td><td>29</td><td>39</td><td>53</td><td>66</td><td>73</td><td>78</td></tr>
 </table>

<span style="font-size: 85%;"><font color="MidnightBlue">lowest</font> : 18 19 20 21 22 ,  <font color="MidnightBlue">highest</font>: 90 91 92 94 99</span>
<hr class="thinhr">
<span style="font-weight:bold">agegroup</span>: 年龄组<div style='float: right; text-align: right;'><img src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAMAAABFNRROAAAACVBMVEUAAADMzMz////1iUV5AAAAI0lEQVQImWNgRAAGBgYmCAAxCPMgLCw8sFkwjCbHQC4P2UwAQvMAqYdlOMcAAAAASUVORK5CYII=" alt="image" /></div>
<style>
 .hmisctable798108 {
 border: none;
 font-size: 85%;
 }
 .hmisctable798108 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable798108 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable798108">
 <tr><th>n</th><th>missing</th><th>distinct</th></tr>
 <tr><td>4001</td><td>0</td><td>4</td></tr>
 </table>

<pre style="font-size:85%;">
 Value      30岁以下  30~45岁  45~60岁 60岁以上
 Frequency    465      912     1239     1385   
 Proportion 0.116    0.228    0.310    0.346    </pre>

<hr class="thinhr">
<span style="font-weight:bold">height</span>: 身高（厘米） <span style="font-size: 80%;">Format:%12.0g</span><div style='float: right; text-align: right;'><img src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAJcAAAANCAMAAACTvAxuAAAACVBMVEUAAADMzMz////1iUV5AAAAfklEQVQ4jeWT0QqAMAhFj/3/R9dyazgJNnIV5cNFHbiDcpH4gIAZS3wQMPTfXOOkc7lK9iGu69bxXqLNxh0auK+0lH0xzb42eeCOFuKdXFQuKqHh6iWczoVp382VUcggRn2747TJKKdmQd8oxdHRBFUVRAHEqW/kwkwQ1fLDCurxDDaKiKzmAAAAAElFTkSuQmCC" alt="image" /></div>
<style>
 .hmisctable601989 {
 border: none;
 font-size: 85%;
 }
 .hmisctable601989 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable601989 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable601989">
 <tr><th>n</th><th>missing</th><th>distinct</th><th>Info</th><th>Mean</th><th>Gmd</th><th>.05</th><th>.10</th><th>.25</th><th>.50</th><th>.75</th><th>.90</th><th>.95</th></tr>
 <tr><td>4001</td><td>0</td><td>55</td><td>0.995</td><td>164</td><td>9.162</td><td>150</td><td>155</td><td>158</td><td>164</td><td>170</td><td>175</td><td>178</td></tr>
 </table>

<span style="font-size: 85%;"><font color="MidnightBlue">lowest</font> : 117 130 132 134 137 ,  <font color="MidnightBlue">highest</font>: 188 189 190 192 193</span>
<hr class="thinhr">
<span style="font-weight:bold">weight</span>: 体重（斤） <span style="font-size: 80%;">Format:%12.0g</span><div style='float: right; text-align: right;'><img src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAJcAAAANCAMAAACTvAxuAAAACVBMVEUAAADMzMz////1iUV5AAAAfElEQVQ4jeWT4QrAIAiEz97/oVdZq0Fk5f0YdFQXDPVLJuRcgCPYyh3OBU+wldsTi9644nFx8Y6SDYEu4doaEnx8aCRtPbK2ZNovTt+u43LirUV3ter+DVfceWWFZt1HG3qdK/37Ok5xoCClbrqIGknynloqly2rjrk0fwCWVwwjc4keTQAAAABJRU5ErkJggg==" alt="image" /></div>
<style>
 .hmisctable738653 {
 border: none;
 font-size: 85%;
 }
 .hmisctable738653 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable738653 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable738653">
 <tr><th>n</th><th>missing</th><th>distinct</th><th>Info</th><th>Mean</th><th>Gmd</th><th>.05</th><th>.10</th><th>.25</th><th>.50</th><th>.75</th><th>.90</th><th>.95</th></tr>
 <tr><td>4001</td><td>0</td><td>139</td><td>0.995</td><td>125.6</td><td>26.16</td><td> 90</td><td>100</td><td>110</td><td>123</td><td>140</td><td>158</td><td>170</td></tr>
 </table>

<span style="font-size: 85%;"><font color="MidnightBlue">lowest</font> :  42  48  50  51  53 ,  <font color="MidnightBlue">highest</font>: 214 218 220 230 240</span>
<hr class="thinhr">
<span style="font-weight:bold">educ</span>: 受教育程度组<div style='float: right; text-align: right;'><img src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAMAAABFNRROAAAACVBMVEUAAADMzMz////1iUV5AAAAJ0lEQVQImWNghAAGBjDJBAEMYAbZPKh5CDNB4hCMl8eAj4cwk4EBAFIYAMtIZRg9AAAAAElFTkSuQmCC" alt="image" /></div>
<style>
 .hmisctable918891 {
 border: none;
 font-size: 85%;
 }
 .hmisctable918891 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable918891 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable918891">
 <tr><th>n</th><th>missing</th><th>distinct</th></tr>
 <tr><td>4001</td><td>0</td><td>4</td></tr>
 </table>

<pre style="font-size:85%;">
 Value       未受教育  初等教育  中等教育  高等教育
 Frequency    393       910      1912       786    
 Proportion 0.098     0.227     0.478     0.196     </pre>

<hr class="thinhr">
<span style="font-weight:bold">poli</span>: 政治面貌<div style='float: right; text-align: right;'><img src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAMAAABFNRROAAAACVBMVEUAAADMzMz////1iUV5AAAAH0lEQVQImWNgYEQCDAxMSIB8HuVmMjCg80BGQTADAwBhgwEJmQkkWAAAAABJRU5ErkJggg==" alt="image" /></div>
<style>
 .hmisctable689626 {
 border: none;
 font-size: 85%;
 }
 .hmisctable689626 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable689626 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable689626">
 <tr><th>n</th><th>missing</th><th>distinct</th></tr>
 <tr><td>4001</td><td>0</td><td>4</td></tr>
 </table>

<pre style="font-size:85%;">
 Value          群众 共青团员 民主党派 共产党员
 Frequency    3230      209        3      559  
 Proportion  0.807    0.052    0.001    0.140   </pre>

<hr class="thinhr">
<span style="font-weight:bold">income</span>: 个人2020年总收入 <span style='font-family:Verdana;font-size:75%;'>元</span> <span style="font-size: 80%;">Format:%24.0g</span><div style='float: right; text-align: right;'><img src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAJcAAAANCAMAAACTvAxuAAAACVBMVEUAAADMzMz////1iUV5AAAARElEQVQ4je2TMQoAMAjEov9/dCsd3ISDDjcYcLhFsoQICD/I5J4d66WxXhpsjxLWXoZiz8tPzNaremwqzl95jn8YZo0Dj8ENSZbLnEwAAAAASUVORK5CYII=" alt="image" /></div>
<style>
 .hmisctable718182 {
 border: none;
 font-size: 74%;
 }
 .hmisctable718182 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable718182 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable718182">
 <tr><th>n</th><th>missing</th><th>distinct</th><th>Info</th><th>Mean</th><th>Gmd</th><th>.05</th><th>.10</th><th>.25</th><th>.50</th><th>.75</th><th>.90</th><th>.95</th></tr>
 <tr><td>4001</td><td>0</td><td>282</td><td>0.995</td><td>50741</td><td>69732</td><td>     0</td><td>     0</td><td>  4000</td><td> 25000</td><td> 50000</td><td>100000</td><td>130000</td></tr>
 </table>

<span style="font-size: 85%;"><font color="MidnightBlue">lowest</font> :       0      50     100     103     150 ,  <font color="MidnightBlue">highest</font>: 1000000 6000000 8000000 9060000 9910000</span>
<hr class="thinhr">
<span style="font-weight:bold">famincome</span>: 2020家庭总收入 <span style="font-size: 80%;">Format:%24.0g</span><div style='float: right; text-align: right;'><img src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAAJcAAAANCAMAAACTvAxuAAAACVBMVEUAAADMzMz////1iUV5AAAAT0lEQVQ4jWNgZGRgYBx8gIGJiQEImAYbGHUXaWDUXaQBBlB+HIQ5ctCGF8Rdg85hg91dg81lg9ZdkPyICmBVJgMU4841RPPwakSpoiGlAwDSIg0NEKK53wAAAABJRU5ErkJggg==" alt="image" /></div>
<pre style="font-size:85%;">
        n  missing distinct     Info     Mean      Gmd      .05      .10      .25 
     4001        0      301    0.998   114885   148876     1800     6000    24000 
      .50      .75      .90      .95 
    55200   100000   200000   300000  </pre>

<span style="font-size: 85%;"><font color="MidnightBlue">lowest</font> :       0       8     200     500     537 ,  <font color="MidnightBlue">highest</font>: 9902760 9955000 9970000 9993000 9999908</span>
<hr class="thinhr">
<span style="font-weight:bold">health</span>: 身体健康感受<div style='float: right; text-align: right;'><img src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAABAAAAANCAMAAACXZR4WAAAACVBMVEUAAADMzMz////1iUV5AAAALElEQVQImWNghAMGBjDJBAcMYDYDgkO+AMIGCEZTAREAEiQJMGAIgI1H2AIAdFEA7qTi1KoAAAAASUVORK5CYII=" alt="image" /></div>
<style>
 .hmisctable605400 {
 border: none;
 font-size: 85%;
 }
 .hmisctable605400 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable605400 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable605400">
 <tr><th>n</th><th>missing</th><th>distinct</th></tr>
 <tr><td>4001</td><td>0</td><td>5</td></tr>
 </table>

<pre style="font-size:85%;">
 Value        很不健康 比较不健康       一般   比较健康     很健康
 Frequency     214        505       1126       1456        700    
 Proportion  0.053      0.126      0.281      0.364      0.175     </pre>

<hr class="thinhr">
<span style="font-weight:bold">happy</span>: 幸福感<div style='float: right; text-align: right;'><img src="data:image/png;base64,
iVBORw0KGgoAAAANSUhEUgAAABAAAAANCAMAAACXZR4WAAAACVBMVEUAAADMzMz////1iUV5AAAAKElEQVQImWNghAMGBjDJBAcMYDZVBAjYwsBAtACEg10AZDQD2AYIBgCHAAEh2UAiigAAAABJRU5ErkJggg==" alt="image" /></div>
<style>
 .hmisctable424102 {
 border: none;
 font-size: 85%;
 }
 .hmisctable424102 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable424102 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable424102">
 <tr><th>n</th><th>missing</th><th>distinct</th></tr>
 <tr><td>4001</td><td>0</td><td>5</td></tr>
 </table>

<pre style="font-size:85%;">
 Value            非常不幸福       比较不幸福 说不上幸福不幸福         比较幸福
 Frequency           53              170              523             2301     
 Proportion       0.013            0.042            0.131            0.575     
                            
 Value              非常幸福
 Frequency          954     
 Proportion       0.238      </pre>

<hr class="thinhr">
<span style="font-weight:bold">incomegroup</span>
<style>
 .hmisctable600266 {
 border: none;
 font-size: 85%;
 }
 .hmisctable600266 td {
 text-align: center;
 padding: 0 1ex 0 1ex;
 }
 .hmisctable600266 th {
 color: MidnightBlue;
 text-align: center;
 padding: 0 1ex 0 1ex;
 font-weight: normal;
 }
 </style>
 <table data-quarto-disable-processing="true" class="hmisctable600266">
 <tr><th>n</th><th>missing</th><th>distinct</th></tr>
 <tr><td>4001</td><td>0</td><td>2</td></tr>
 </table>

<pre style="font-size:85%;">
 Value        Low  High
 Frequency   2055  1946
 Proportion 0.514 0.486 </pre>

<hr class="thinhr">
<div class="sourceCode" id="cb311"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb311-1"><a href="two-logit.html#cb311-1" aria-hidden="true" tabindex="-1"></a>core<span class="sc">$</span>educ <span class="ot">&lt;-</span> <span class="fu">factor</span>(core<span class="sc">$</span>educ,</span>
<span id="cb311-2"><a href="two-logit.html#cb311-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;未受教育&quot;</span>,<span class="st">&quot;初等教育&quot;</span>,<span class="st">&quot;中等教育&quot;</span>,<span class="st">&quot;高等教育&quot;</span>))</span>
<span id="cb311-3"><a href="two-logit.html#cb311-3" aria-hidden="true" tabindex="-1"></a>core<span class="sc">$</span>poli <span class="ot">&lt;-</span> <span class="fu">factor</span>(core<span class="sc">$</span>poli,</span>
<span id="cb311-4"><a href="two-logit.html#cb311-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;群众&quot;</span>,<span class="st">&quot;共青团员&quot;</span>,<span class="st">&quot;共产党员&quot;</span>))</span></code></pre></div>
<div class="sourceCode" id="cb312"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb312-1"><a href="two-logit.html#cb312-1" aria-hidden="true" tabindex="-1"></a>dd <span class="ot">&lt;-</span> <span class="fu">datadist</span>(core)</span>
<span id="cb312-2"><a href="two-logit.html#cb312-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">datadist=</span><span class="st">&#39;dd&#39;</span>) <span class="co">#rms包的数据初始化</span></span>
<span id="cb312-3"><a href="two-logit.html#cb312-3" aria-hidden="true" tabindex="-1"></a>f  <span class="ot">&lt;-</span> <span class="fu">lrm</span>(incomegroup <span class="sc">~</span> stype <span class="sc">+</span> height <span class="sc">+</span> weight <span class="sc">+</span> gender <span class="sc">+</span> educ <span class="sc">+</span> poli <span class="sc">+</span> educ<span class="sc">*</span>gender, <span class="at">data=</span>core,<span class="at">x=</span><span class="cn">TRUE</span>, <span class="at">y=</span><span class="cn">TRUE</span>)  <span class="co">#模型拟合</span></span>
<span id="cb312-4"><a href="two-logit.html#cb312-4" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">summary</span>(f) <span class="co">#结果类似，省略</span></span>
<span id="cb312-5"><a href="two-logit.html#cb312-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(s, <span class="at">log=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="6001-chapter06_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>rms包给出的图清晰的展现了回归结果，并且给出了参照组，形象的描绘了城镇相对于农村的“优势”，低教育程度相对于高教育程度的“劣势”等等比较效应。</p>
</div>
</div>
<div id="two-logit-e" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> 交互效应与可视化<a href="two-logit.html#two-logit-e" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>现在我们更深入的讨论交互效应，并将结果可视化。</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="two-logit.html#cb313-1" aria-hidden="true" tabindex="-1"></a>logfit1 <span class="ot">&lt;-</span> <span class="fu">glm</span>(incomegroup <span class="sc">~</span> stype <span class="sc">+</span> height <span class="sc">+</span> weight <span class="sc">+</span> gender <span class="sc">+</span> educ <span class="sc">+</span> poli <span class="sc">+</span> gender<span class="sc">:</span>educ, <span class="at">data=</span>core, <span class="at">family=</span><span class="fu">binomial</span>())</span>
<span id="cb313-2"><a href="two-logit.html#cb313-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb313-3"><a href="two-logit.html#cb313-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(logfit1)</span></code></pre></div>
<pre><code>## 
## Call:
## glm(formula = incomegroup ~ stype + height + weight + gender + 
##     educ + poli + gender:educ, family = binomial(), data = core)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -2.6117  -0.9276  -0.4176   0.9430   2.2698  
## 
## Coefficients:
##                        Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)           -6.170205   1.084540  -5.689 1.28e-08 ***
## stype城镇              0.881738   0.087925  10.028  &lt; 2e-16 ***
## height                 0.022049   0.006739   3.272 0.001069 ** 
## weight                 0.007031   0.001921   3.661 0.000252 ***
## gender女              -0.261985   0.332934  -0.787 0.431341    
## educ初等教育           0.817648   0.292182   2.798 0.005135 ** 
## educ中等教育           1.681615   0.281848   5.966 2.43e-09 ***
## educ高等教育           2.954707   0.323727   9.127  &lt; 2e-16 ***
## poli共青团员          -1.850324   0.186911  -9.899  &lt; 2e-16 ***
## poli共产党员           0.621600   0.118330   5.253 1.50e-07 ***
## gender女:educ初等教育 -0.267245   0.363320  -0.736 0.461997    
## gender女:educ中等教育 -0.052820   0.341860  -0.155 0.877211    
## gender女:educ高等教育  0.057167   0.384296   0.149 0.881745    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 5539.4  on 3997  degrees of freedom
## Residual deviance: 4399.9  on 3985  degrees of freedom
##   (3 observations deleted due to missingness)
## AIC: 4425.9
## 
## Number of Fisher Scoring iterations: 4</code></pre>
<p>我们将结果可视化</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="two-logit.html#cb315-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(effects)</span></code></pre></div>
<pre><code>## Loading required package: carData</code></pre>
<pre><code>## lattice theme set by effectsTheme()
## See ?effectsTheme for details.</code></pre>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="two-logit.html#cb318-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">effect</span>(<span class="st">&quot;gender:educ&quot;</span>,logfit1,<span class="at">xlevels=</span><span class="fu">list</span>(<span class="at">gender=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>))),<span class="at">multiline=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="6001-chapter06_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<div id="two-logit-e1" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> 对方程进行方差分析<a href="two-logit.html#two-logit-e1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb319"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb319-1"><a href="two-logit.html#cb319-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">anova</span>(logfit1)</span></code></pre></div>
<p>线性回归中的ANOVA作用是根据显著性判断整体模型是否有效。</p>
<div class="sourceCode" id="cb320"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb320-1"><a href="two-logit.html#cb320-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(a)</span></code></pre></div>
<pre><code>## Analysis of Deviance Table
## 
## Model: binomial, link: logit
## 
## Response: incomegroup
## 
## Terms added sequentially (first to last)
## 
## 
##             Df Deviance Resid. Df Resid. Dev
## NULL                         3997     5539.4
## stype        1   335.44      3996     5203.9
## height       1   207.03      3995     4996.9
## weight       1    15.69      3994     4981.2
## gender       1    12.28      3993     4968.9
## educ         3   408.26      3990     4560.7
## poli         2   158.80      3988     4401.9
## gender:educ  3     2.03      3985     4399.9</code></pre>
<div class="sourceCode" id="cb322"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb322-1"><a href="two-logit.html#cb322-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(a)</span></code></pre></div>
<p><img src="6001-chapter06_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>利用stargazer包输出结果</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="two-logit.html#cb323-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span></code></pre></div>
<pre><code>## 
## Please cite as:</code></pre>
<pre><code>##  Hlavac, Marek (2022). stargazer: Well-Formatted Regression and Summary Statistics Tables.</code></pre>
<pre><code>##  R package version 5.2.3. https://CRAN.R-project.org/package=stargazer</code></pre>
<div class="sourceCode" id="cb327"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb327-1"><a href="two-logit.html#cb327-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(logfit,logfit1,<span class="at">type =</span> <span class="st">&quot;text&quot;</span>)</span></code></pre></div>
<pre><code>## 
## ==============================================
##                       Dependent variable:     
##                   ----------------------------
##                           incomegroup         
##                        (1)            (2)     
## ----------------------------------------------
## stype城镇              0.886***      0.882***   
##                      (0.088)        (0.088)   
##                                               
## height               0.021***      0.022***   
##                      (0.007)        (0.007)   
##                                               
## weight               0.007***      0.007***   
##                      (0.002)        (0.002)   
##                                               
## gender女             -0.352***       -0.262    
##                      (0.095)        (0.333)   
##                                               
## educ初等教育             0.678***      0.818***   
##                      (0.171)        (0.292)   
##                                               
## educ中等教育             1.640***      1.682***   
##                      (0.161)        (0.282)   
##                                               
## educ高等教育             2.989***      2.955***   
##                      (0.193)        (0.324)   
##                                               
## poli共青团员            -1.855***      -1.850***  
##                      (0.188)        (0.187)   
##                                               
## poli民主党派              0.936                   
##                      (1.375)                  
##                                               
## poli共产党员             0.621***      0.622***   
##                      (0.118)        (0.118)   
##                                               
## gender女:educ初等教育                    -0.267    
##                                     (0.363)   
##                                               
## gender女:educ中等教育                    -0.053    
##                                     (0.342)   
##                                               
## gender女:educ高等教育                     0.057    
##                                     (0.384)   
##                                               
## Constant            -5.988***      -6.170***  
##                      (1.059)        (1.085)   
##                                               
## ----------------------------------------------
## Observations          4,001          3,998    
## Log Likelihood      -2,202.381    -2,199.927  
## Akaike Inf. Crit.   4,426.762      4,425.854  
## ==============================================
## Note:              *p&lt;0.1; **p&lt;0.05; ***p&lt;0.01</code></pre>
<div class="sourceCode" id="cb329"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb329-1"><a href="two-logit.html#cb329-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(logfit,logfit1,<span class="at">type=</span><span class="st">&quot;html&quot;</span>,<span class="at">out=</span><span class="st">&quot;logfit.html&quot;</span>)</span></code></pre></div>
<pre><code>## 
## &lt;table style=&quot;text-align:center&quot;&gt;&lt;tr&gt;&lt;td colspan=&quot;3&quot; style=&quot;border-bottom: 1px solid black&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td colspan=&quot;2&quot;&gt;&lt;em&gt;Dependent variable:&lt;/em&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td colspan=&quot;2&quot; style=&quot;border-bottom: 1px solid black&quot;&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td colspan=&quot;2&quot;&gt;incomegroup&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(1)&lt;/td&gt;&lt;td&gt;(2)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan=&quot;3&quot; style=&quot;border-bottom: 1px solid black&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;stype城镇&lt;/td&gt;&lt;td&gt;0.886&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.882&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(0.088)&lt;/td&gt;&lt;td&gt;(0.088)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;height&lt;/td&gt;&lt;td&gt;0.021&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.022&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(0.007)&lt;/td&gt;&lt;td&gt;(0.007)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;weight&lt;/td&gt;&lt;td&gt;0.007&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.007&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(0.002)&lt;/td&gt;&lt;td&gt;(0.002)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;gender女&lt;/td&gt;&lt;td&gt;-0.352&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;-0.262&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(0.095)&lt;/td&gt;&lt;td&gt;(0.333)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;educ初等教育&lt;/td&gt;&lt;td&gt;0.678&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.818&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(0.171)&lt;/td&gt;&lt;td&gt;(0.292)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;educ中等教育&lt;/td&gt;&lt;td&gt;1.640&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;1.682&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(0.161)&lt;/td&gt;&lt;td&gt;(0.282)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;educ高等教育&lt;/td&gt;&lt;td&gt;2.989&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;2.955&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(0.193)&lt;/td&gt;&lt;td&gt;(0.324)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;poli共青团员&lt;/td&gt;&lt;td&gt;-1.855&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;-1.850&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(0.188)&lt;/td&gt;&lt;td&gt;(0.187)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;poli民主党派&lt;/td&gt;&lt;td&gt;0.936&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(1.375)&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;poli共产党员&lt;/td&gt;&lt;td&gt;0.621&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.622&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(0.118)&lt;/td&gt;&lt;td&gt;(0.118)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;gender女:educ初等教育&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;-0.267&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;(0.363)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;gender女:educ中等教育&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;-0.053&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;(0.342)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;gender女:educ高等教育&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;0.057&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;(0.384)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;Constant&lt;/td&gt;&lt;td&gt;-5.988&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;-6.170&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;(1.059)&lt;/td&gt;&lt;td&gt;(1.085)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan=&quot;3&quot; style=&quot;border-bottom: 1px solid black&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;Observations&lt;/td&gt;&lt;td&gt;4,001&lt;/td&gt;&lt;td&gt;3,998&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;Log Likelihood&lt;/td&gt;&lt;td&gt;-2,202.381&lt;/td&gt;&lt;td&gt;-2,199.927&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;Akaike Inf. Crit.&lt;/td&gt;&lt;td&gt;4,426.762&lt;/td&gt;&lt;td&gt;4,425.854&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan=&quot;3&quot; style=&quot;border-bottom: 1px solid black&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style=&quot;text-align:left&quot;&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/td&gt;&lt;td colspan=&quot;2&quot; style=&quot;text-align:right&quot;&gt;&lt;sup&gt;*&lt;/sup&gt;p&lt;0.1; &lt;sup&gt;**&lt;/sup&gt;p&lt;0.05; &lt;sup&gt;***&lt;/sup&gt;p&lt;0.01&lt;/td&gt;&lt;/tr&gt;
## &lt;/table&gt;</code></pre>
<p>现在我们用更多的方法来展示可视化结果。首先我们利用ggeffects实现</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="two-logit.html#cb331-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggeffects)</span>
<span id="cb331-2"><a href="two-logit.html#cb331-2" aria-hidden="true" tabindex="-1"></a>dat3 <span class="ot">&lt;-</span> <span class="fu">ggpredict</span>(logfit1, <span class="at">terms =</span> <span class="fu">list</span>(<span class="st">&quot;gender&quot;</span>, <span class="st">&quot;educ&quot;</span>))</span></code></pre></div>
<pre><code>## Data were &#39;prettified&#39;. Consider using `terms=&quot;height [all]&quot;` to get
##   smooth plots.</code></pre>
<pre><code>## Data were &#39;prettified&#39;. Consider using `terms=&quot;weight [all]&quot;` to get
##   smooth plots.</code></pre>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="two-logit.html#cb334-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(dat3)</span></code></pre></div>
<pre><code>## $stype</code></pre>
<p><img src="6001-chapter06_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<pre><code>## 
## $height</code></pre>
<p><img src="6001-chapter06_files/figure-html/unnamed-chunk-14-2.png" width="672" /></p>
<pre><code>## 
## $weight</code></pre>
<p><img src="6001-chapter06_files/figure-html/unnamed-chunk-14-3.png" width="672" /></p>
<pre><code>## 
## $gender</code></pre>
<p><img src="6001-chapter06_files/figure-html/unnamed-chunk-14-4.png" width="672" /></p>
<pre><code>## 
## $educ</code></pre>
<p><img src="6001-chapter06_files/figure-html/unnamed-chunk-14-5.png" width="672" /></p>
<pre><code>## 
## $poli</code></pre>
<p><img src="6001-chapter06_files/figure-html/unnamed-chunk-14-6.png" width="672" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="OLS.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ML.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["CBook.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
